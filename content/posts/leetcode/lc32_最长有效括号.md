---
title: "Lc32_最长有效括号"
date: 2022-06-06T16:15:25+08:00
draft: true
tags:
  - "hard"
  - "动态规划"
  - ”栈“
author: ["zzydev"]
description: ""
weight: # 输入1可以顶置文章，用来给文章展示排序，不填就默认按时间排序
slug: ""
comments: true
showToc: true # 显示目录
TocOpen: true # 自动展开目录
hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等
disableShare: false # 底部不显示分享栏
showbreadcrumbs: true #顶部显示当前路径
cover:
  image: ""
  caption: ""
  alt: ""
  relative: false
---

[原题链接](https://leetcode.cn/problems/longest-valid-parentheses/)

合法的括号序列：

左边的括号数量大于等于右边括号的数量

```cpp
class Solution {
public:
    int longestValidParentheses(string s) {
        int n = s.size();
        if (n < 2) return 0;
        int res = 0;
        vector<int> f(n);
        for (int i = n - 2; i >= 0; i --) {
            // 找到与i相匹配的j  xxx()jxxx
            if (s[i] == '(') {
                int j = i + f[i + 1] + 1;
              //如果j为右括号
                if (s[j] == ')') {
                    f[i] = f[i + 1] + 2;
                  // 将 j + 1 位置开始的子串加进来
                    if (j + 1 < n) {
                        f[i] += f[j + 1];
                    }
                }
            }
            res = max(res, f[i]);
        }
        return res;        
    }
};

```

