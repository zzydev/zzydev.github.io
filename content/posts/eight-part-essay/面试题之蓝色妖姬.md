---
title: "面试题之蓝色妖姬"
date: 2023-03-03T01:02:40+08:00
lastmod:
draft: true
tags:
    - ""
author: ["zzydev"]
description: ""
weight: # 输入1可以顶置文章，用来给文章展示排序，不填就默认按时间排序
slug: ""
comments: true
showToc: true # 显示目录
TocOpen: true # 自动展开目录
hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等
disableShare: false # 底部不显示分享栏
showbreadcrumbs: true #顶部显示当前路径
cover:
    image: ""
    caption: ""
    alt: ""
    relative: false
---

{{< spoiler  "1.解压字符串">}}
给定一个压缩过后的字符串，请恢复其原始状态。

```
uncompress('3(ab)') // 'ababab'
uncompress('3(ab2(c))') // 'abccabccabcc'
```

数字 k 之后如果有一对括号，意味着括号内的子字符串在原来的状态中重复了 k 次。k 是正整数。
测试用例的输入均为有效字符串，原始字符串中不存在数字

参考答案：

```js
const isNumeric = (str) => !isNaN(parseFloat(str)) && isFinite(Number(str));

function uncompress(str) {
    let stack = [];

    for (const char of str) {
        if (char !== ")") {
            stack.push(char);
        } else {
            let word = "";
            let count = "";

            while (stack.length && stack[stack.length - 1] !== "(") {
                word = stack.pop() + word;
            }
            stack.pop();

            while (stack.length && isNumeric(stack[stack.length - 1])) {
                count = stack.pop() + count;
            }
            stack.push(word.repeat(Number(count)));
        }
    }

    return stack.join("");
}
```

{{< /spoiler >}}

{{< spoiler  "undefined to null">}}
实现一个函数 `undefinedToNull()`,要求将所有的 undefined 替换成 null

```js
undefinedToNull({ a: undefined, b: "BFE.dev" });
// {a: null, b: 'BFE.dev'}

undefinedToNull({ a: ["BFE.dev", undefined, "bigfrontend.dev"] });
// {a: ['BFE.dev', null, 'bigfrontend.dev']}
```

参考答案：

```js
const isObject = (obj) => typeof obj === "object" && obj !== null;
function undefinedToNull(arg) {
    if (!isObject(arg)) return arg;
    for (let [key, val] of Object.entries(arg)) {
        if (val === undefined) arg[key] = null;
        else arg[key] = undefinedToNull(val);
    }
    return arg;
}
```

{{< /spoiler >}}
